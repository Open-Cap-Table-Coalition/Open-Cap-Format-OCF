{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "https://opencaptablecoalition.com/schema/types/schedule_driven_vesting_condition",
  "title": "Type - Schedule-driven Vesting Condition",
  "description": "Type representation of a row in a vesting schedule",
  "type": "object",
  "properties": {
    "amount_numerator": {
      "description": "Numerator of the tranche amount (e.g. 1 in 1/48th)",
      "type": "integer"
    },
    "amount_denominator": {
      "description": "Denominator of the tranche amount (e.g. 48 in 1/48th)",
      "type": "integer"
    },
    "period_length": {
      "description": "Length of period following the vesting start date for this tranche",
      "type": "integer"
    },
    "period_type": {
      "description": "Type of period (days, months, years)",
      "$ref": "/schema/enums/period_type"
    },
    "priority": {
      "description": "What order should this period be calculated (1 is highest priority)",
      "type": "integer"
    },
    "dependent_vesting": {
      "title": "Schedule-driven Vesting Condition - Dependent Vesting Conditions Array",
      "description": "Vesting periods or conditions which become operative once this condition is met",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "$ref": "/schema/types/event_driven_vesting_condition"
          },
          {
            "$ref": "/schema/types/schedule_driven_vesting_condition"
          }
        ]
      }
    }
  },
  "required": [
    "amount_numerator",
    "amount_denominator",
    "period_length",
    "period_type"
  ]
}

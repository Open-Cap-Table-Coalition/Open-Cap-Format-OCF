{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "Types.Vesting.schema.json",
  "title": "Type - Vesting",
  "description": "Type representing all aspects related to vesting securities",
  "type": "object",
  "properties": {
    "vesting_type": {
      "description": "What kind of vesting is this",
      "$ref": "Enums.Vesting.schema.json"
    },
    "vesting_schedule_id": {
      "description": "Time-based vesting schedule applied to the securities",
      "type": "string"
    },
    "vesting_start_date": {
      "description": "Vesting commencement date",
      "$ref": "Types.DateTime.schema.json"
    },
    "event_driven_vesting_conditions": {
      "title": "Vesting Type - EventDrivenVestingCondition Array",
      "description": "Tree-structured event-driven vesting conditions for the securities, including single- or double-trigger acceleration.\n\n**Note**: complex vesting rules which mix time-and event-based conditions should be modeled using this field, because human intervention will ultimately be required by the importing system due to the nature/complexity of the rules.",
      "type": "array",
      "items": {
        "anyOf": [
          {
            "$ref": "Types.EventDrivenVestingCondition.schema.json"
          },
          {
            "$ref": "Types.ScheduleDrivenVestingCondition.schema.json"
          }
        ]
      }
    },
    "custom_vesting_tranches": {
      "title": "Vesting Type - CustomVestingTranche Array",
      "description": "Explicitly-defined vesting tranches for the securities which can be used in place of a vesting schedule.\n\n**Note**: custom vesting tranches override the applied vesting schedule if both are present.",
      "type": "array",
      "items": {
        "$ref": "Types.CustomVestingTranche.schema.json"
      }
    },
    "custom_vesting_description": {
      "description": "Description field to allow explanation of the vesting conditions which resulted in the custom vesting tranches",
      "type": "string"
    }
  },
  "required": ["vesting_type"]
}
